<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fraud Detection Dashboard - Results</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #1a1a2e; color: #eee; padding: 20px; }
        .header { text-align: center; padding: 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 15px; margin-bottom: 30px; }
        .header h1 { font-size: 2.5em; margin-bottom: 10px; }
        .header p { opacity: 0.9; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .card { background: #16213e; border-radius: 15px; padding: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.3); }
        .card h3 { color: #667eea; margin-bottom: 15px; font-size: 1.1em; text-transform: uppercase; letter-spacing: 1px; }
        .stat-value { font-size: 2.5em; font-weight: bold; color: #fff; }
        .stat-label { color: #888; font-size: 0.9em; margin-top: 5px; }
        .stat-good { color: #00d9a5; }
        .stat-warning { color: #ffc107; }
        .stat-danger { color: #ff6b6b; }
        .chart-container { background: #16213e; border-radius: 15px; padding: 25px; margin-bottom: 30px; }
        .chart-container h3 { color: #667eea; margin-bottom: 20px; }
        .metrics-table { width: 100%; border-collapse: collapse; }
        .metrics-table th, .metrics-table td { padding: 12px; text-align: left; border-bottom: 1px solid #2a2a4a; }
        .metrics-table th { color: #667eea; font-weight: 600; }
        .metrics-table tr:hover { background: #1f2a48; }
        .confusion-matrix { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; max-width: 400px; margin: 20px auto; }
        .cm-cell { padding: 20px; text-align: center; border-radius: 10px; font-weight: bold; }
        .cm-header { background: #2a2a4a; color: #888; }
        .cm-tn { background: #00d9a5; color: #000; }
        .cm-fp { background: #ffc107; color: #000; }
        .cm-fn { background: #ff6b6b; color: #fff; }
        .cm-tp { background: #667eea; color: #fff; }
        .feature-bar { display: flex; align-items: center; margin: 10px 0; }
        .feature-name { width: 60px; color: #888; }
        .feature-value { flex: 1; height: 25px; background: #2a2a4a; border-radius: 5px; overflow: hidden; margin: 0 10px; }
        .feature-fill { height: 100%; background: linear-gradient(90deg, #667eea, #764ba2); border-radius: 5px; }
        .feature-percent { width: 50px; text-align: right; }
        footer { text-align: center; padding: 30px; color: #666; }
    </style>
</head>
<body>
    <div class="header">
        <h1>üîí Fraud Detection Dashboard</h1>
        <p>Big Data Project - Apache Spark MLlib Results</p>
    </div>

    <!-- KPI Cards -->
    <div class="grid">
        <div class="card">
            <h3>üìä Total Transactions</h3>
            <div class="stat-value">284,807</div>
            <div class="stat-label">Credit card transactions analyzed</div>
        </div>
        <div class="card">
            <h3>üö® Fraud Detected</h3>
            <div class="stat-value stat-danger">492</div>
            <div class="stat-label">0.17% fraud rate</div>
        </div>
        <div class="card">
            <h3>üéØ Model Accuracy</h3>
            <div class="stat-value stat-good">93.75%</div>
            <div class="stat-label">RandomForest Classifier</div>
        </div>
        <div class="card">
            <h3>üìà AUC-ROC Score</h3>
            <div class="stat-value stat-good">0.9847</div>
            <div class="stat-label">Excellent discrimination</div>
        </div>
        <div class="card">
            <h3>‚úÖ Precision</h3>
            <div class="stat-value stat-good">100%</div>
            <div class="stat-label">No false positives!</div>
        </div>
        <div class="card">
            <h3>üîç Fraud Recall</h3>
            <div class="stat-value stat-warning">80.72%</div>
            <div class="stat-label">Frauds correctly identified</div>
        </div>
    </div>

    <!-- Confusion Matrix -->
    <div class="chart-container">
        <h3>üßÆ Confusion Matrix</h3>
        <div class="confusion-matrix">
            <div class="cm-cell cm-header"></div>
            <div class="cm-cell cm-header">Pred: Normal</div>
            <div class="cm-cell cm-header">Pred: Fraud</div>
            <div class="cm-cell cm-header">Actual: Normal</div>
            <div class="cm-cell cm-tn">173 (TN)</div>
            <div class="cm-cell cm-fp">0 (FP)</div>
            <div class="cm-cell cm-header">Actual: Fraud</div>
            <div class="cm-cell cm-fn">16 (FN)</div>
            <div class="cm-cell cm-tp">67 (TP)</div>
        </div>
    </div>

    <!-- Feature Importance -->
    <div class="chart-container">
        <h3>üìä Top 10 Feature Importance</h3>
        <div class="feature-bar"><span class="feature-name">V14</span><div class="feature-value"><div class="feature-fill" style="width: 100%"></div></div><span class="feature-percent">21.7%</span></div>
        <div class="feature-bar"><span class="feature-name">V17</span><div class="feature-value"><div class="feature-fill" style="width: 67%"></div></div><span class="feature-percent">14.5%</span></div>
        <div class="feature-bar"><span class="feature-name">V10</span><div class="feature-value"><div class="feature-fill" style="width: 59%"></div></div><span class="feature-percent">12.9%</span></div>
        <div class="feature-bar"><span class="feature-name">V12</span><div class="feature-value"><div class="feature-fill" style="width: 47%"></div></div><span class="feature-percent">10.1%</span></div>
        <div class="feature-bar"><span class="feature-name">V11</span><div class="feature-value"><div class="feature-fill" style="width: 45%"></div></div><span class="feature-percent">9.8%</span></div>
        <div class="feature-bar"><span class="feature-name">V4</span><div class="feature-value"><div class="feature-fill" style="width: 37%"></div></div><span class="feature-percent">8.1%</span></div>
        <div class="feature-bar"><span class="feature-name">V3</span><div class="feature-value"><div class="feature-fill" style="width: 22%"></div></div><span class="feature-percent">4.7%</span></div>
        <div class="feature-bar"><span class="feature-name">V7</span><div class="feature-value"><div class="feature-fill" style="width: 14%"></div></div><span class="feature-percent">3.0%</span></div>
        <div class="feature-bar"><span class="feature-name">V2</span><div class="feature-value"><div class="feature-fill" style="width: 10%"></div></div><span class="feature-percent">2.2%</span></div>
        <div class="feature-bar"><span class="feature-name">V16</span><div class="feature-value"><div class="feature-fill" style="width: 8%"></div></div><span class="feature-percent">1.8%</span></div>
    </div>

    <!-- Model Comparison -->
    <div class="chart-container">
        <h3>ü§ñ Model Comparison</h3>
        <table class="metrics-table">
            <thead>
                <tr>
                    <th>Metric</th>
                    <th>RandomForest</th>
                    <th>Logistic Regression</th>
                    <th>Winner</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Accuracy</td>
                    <td>93.75%</td>
                    <td>92.58%</td>
                    <td>üèÜ RandomForest</td>
                </tr>
                <tr>
                    <td>AUC-ROC</td>
                    <td>0.9847</td>
                    <td>0.9861</td>
                    <td>üèÜ Logistic Reg</td>
                </tr>
                <tr>
                    <td>Precision</td>
                    <td>94.28%</td>
                    <td>93.11%</td>
                    <td>üèÜ RandomForest</td>
                </tr>
                <tr>
                    <td>Recall</td>
                    <td>93.75%</td>
                    <td>92.58%</td>
                    <td>üèÜ RandomForest</td>
                </tr>
                <tr>
                    <td>F1 Score</td>
                    <td>93.55%</td>
                    <td>92.33%</td>
                    <td>üèÜ RandomForest</td>
                </tr>
                <tr>
                    <td>Fraud Recall</td>
                    <td>80.72%</td>
                    <td>78.31%</td>
                    <td>üèÜ RandomForest</td>
                </tr>
                <tr>
                    <td>Fraud Precision</td>
                    <td>100%</td>
                    <td>98.48%</td>
                    <td>üèÜ RandomForest</td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Hourly Chart -->
    <div class="chart-container">
        <h3>‚è∞ Transactions by Hour</h3>
        <canvas id="hourlyChart" height="100"></canvas>
    </div>

    <!-- Amount Distribution -->
    <div class="chart-container">
        <h3>üí∞ Fraud Rate by Amount</h3>
        <canvas id="amountChart" height="100"></canvas>
    </div>

    <footer>
        <p>Big Data Fraud Detection Project | Apache Spark + MLlib | 2026</p>
    </footer>

    <script>
        // Hourly Chart
        new Chart(document.getElementById('hourlyChart'), {
            type: 'bar',
            data: {
                labels: Array.from({length: 24}, (_, i) => i + 'h'),
                datasets: [{
                    label: 'Transactions',
                    data: [7695, 4220, 3328, 3492, 2209, 2990, 4101, 7243, 10276, 15838, 16598, 16856, 15420, 15365, 16570, 16461, 16453, 16166, 17039, 15649, 16756, 17703, 15441, 10938],
                    backgroundColor: 'rgba(102, 126, 234, 0.6)',
                    borderColor: '#667eea',
                    borderWidth: 1
                }, {
                    label: 'Frauds (x100)',
                    data: [6, 10, 57, 17, 23, 11, 9, 23, 9, 16, 8, 53, 17, 17, 23, 26, 22, 29, 33, 19, 18, 16, 9, 21].map(x => x * 100),
                    backgroundColor: 'rgba(255, 107, 107, 0.6)',
                    borderColor: '#ff6b6b',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                scales: { y: { beginAtZero: true, grid: { color: '#2a2a4a' } }, x: { grid: { color: '#2a2a4a' } } },
                plugins: { legend: { labels: { color: '#eee' } } }
            }
        });

        // Amount Distribution Chart
        new Chart(document.getElementById('amountChart'), {
            type: 'bar',
            data: {
                labels: ['$0-10', '$10-50', '$50-100', '$100-500', '$500-1000', '$1000+'],
                datasets: [{
                    label: 'Fraud Rate %',
                    data: [0.23, 0.06, 0.15, 0.20, 0.40, 0.29],
                    backgroundColor: ['#667eea', '#764ba2', '#00d9a5', '#ffc107', '#ff6b6b', '#e91e63'],
                    borderWidth: 0
                }]
            },
            options: {
                responsive: true,
                scales: { y: { beginAtZero: true, grid: { color: '#2a2a4a' } }, x: { grid: { color: '#2a2a4a' } } },
                plugins: { legend: { labels: { color: '#eee' } } }
            }
        });
    </script>
</body>
</html>
